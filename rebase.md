#### 变基

git用来合并分支有两种方式，一种是merge，另一种就是rebase。

```
git checkout -b dev
```



> ​										 master
>
> ​											  |
>
> v1.0   ----->    v1.1    ---->   v1.2
>
> ​											  |
>
> ​										HEAD->dev
>
> 

后来的master和dev

> ​										 					master
>
> ​											  |———    v1.2.1
>
> v1.0   ----->    v1.1    ---->   v1.2   
>
> ​											  |___      v1.3  \___ ___     v1.4
>
> ​																			HEAD->dev

现在要将dev分支通过rebase合并到master。

```
git checkout dev
git rebase master
```

1. 找到两个分支的共同祖先 (这里对应的就是v1.2那次提交)
2. 确认本次变基的基底 (这里就是v1.2.1那次提交)
3. 在当前分支上(即dev)，git将v1.3(基于祖先v1.2)的变更内容提取出来，存在临时文件;再将v1.4(相对于v1.3)的变更内容提取出来，存在临时文件；如此循环后将所有变更内容都提取出来；
4. 将上一步提出出来的变更内容依序在master分支上执行

可见，这就是个重放，把所有dev上的变更轮流灌到master上，然后一边replay一边merge。

但合并后的分支树是这样的

> ​										 	  															master
>
> ​											    |——v1.2.1											|
>
> v1.0   ----->    v1.1    ---->   v1.2   ---->   v1.3   ---->    v1.4    ---->    v1.4.1
>
> ​											  																  |
>
> ​																										HEAD->dev



rebase操作略微复杂，在遇到必须使用它的理由之后，再更新此文件。